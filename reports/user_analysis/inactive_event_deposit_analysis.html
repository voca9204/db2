<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¥ê¸° ë¯¸ì ‘ì† & ì´ë²¤íŠ¸ í›„ ì…ê¸ˆ ì‚¬ìš©ì ë¶„ì„</title>
    <link rel="stylesheet" href="../css/report-nav.css">
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        
        h1, h2 {
            color: #2c3e50;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }
        
        .query-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .query-container h2 {
            margin-top: 0;
            border-left: 4px solid #3498db;
            padding-left: 10px;
        }
        
        .query-details {
            background-color: #f1f8ff;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .query-details ol {
            margin: 0;
            padding-left: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
            padding: 12px 15px;
            text-align: left;
        }
        
        td {
            padding: 10px 15px;
            border-bottom: 1px solid #ddd;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        tr:hover {
            background-color: #f1f1f1;
        }
        
        .number-cell {
            text-align: right;
        }
        
        .total-row {
            font-weight: bold;
            background-color: #e8f4f8;
        }
        
        .summary {
            margin-top: 30px;
            background-color: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .summary h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.9em;
            color: #7f8c8d;
        }
        
        .nav-links {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
        }
        
        .nav-link {
            display: inline-block;
            background-color: #f1f8ff;
            color: #3498db;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 4px;
            border: 1px solid #d1e4ff;
            transition: all 0.2s ease;
        }
        
        .nav-link:hover {
            background-color: #e1f0ff;
            color: #2980b9;
        }
        
        .icon {
            margin-right: 5px;
        }
        
        .file-links {
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .file-links h4 {
            margin-top: 0;
            margin-bottom: 10px;
        }
        
        .file-links a {
            display: inline-block;
            background-color: #f1f8ff;
            color: #3498db;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 4px;
            margin-right: 10px;
            margin-bottom: 10px;
            border: 1px solid #d1e4ff;
            transition: all 0.2s ease;
        }
        
        .file-links a:hover {
            background-color: #e1f0ff;
            color: #2980b9;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        .pagination a {
            color: #3498db;
            float: left;
            padding: 8px 16px;
            text-decoration: none;
            transition: background-color .3s;
            border: 1px solid #ddd;
            margin: 0 4px;
            cursor: pointer;
        }
        
        .pagination a.active {
            background-color: #3498db;
            color: white;
            border: 1px solid #3498db;
        }
        
        .pagination a:hover:not(.active) {
            background-color: #ddd;
        }
        
        /* í˜ì´ì§€ë„¤ì´ì…˜ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ */
        .data-row {
            display: none;
        }
        
        .data-row.visible {
            display: table-row;
        }
        
        #pageInfo {
            text-align: center;
            margin-bottom: 15px;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="nav-links">
        <a href="/index.html" class="nav-link"><span class="icon">â—€</span>ì§ˆì˜ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>
    
    <h1>ì¥ê¸° ë¯¸ì ‘ì† & ì´ë²¤íŠ¸ í›„ ì…ê¸ˆ ì‚¬ìš©ì ë¶„ì„</h1>
    
    <div class="query-container">
        <h2>ì§ˆì˜ ë‚´ìš©</h2>
        <div class="query-details">
            <p>ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì‚¬ìš©ì ID ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤:</p>
            <ol>
                <li>ê¸ˆì¼(2025-05-17) ê¸°ì¤€ìœ¼ë¡œ 10ì¼ ë™ì•ˆ ê²Œì„ì„ í•˜ì§€ ì•Šì€ ì‚¬ìš©ì</li>
                <li>ì´ë²¤íŠ¸ ì°¨ìˆ˜ì— ê´€ê³„ì—†ì´ í•œ ë²ˆì´ë¼ë„ ì´ë²¤íŠ¸ ì§€ê¸‰ì„ ë°›ì€ í›„ ì…ê¸ˆ ê¸°ë¡ì´ ìˆëŠ” ì‚¬ìš©ì</li>
            </ol>
        </div>
        
        <h2>ë¶„ì„ ê²°ê³¼</h2>
        <div id="pageInfo">í˜ì´ì§€ 1 / 5 (ì´ 141ëª…ì˜ ì‚¬ìš©ì)</div>
        <table id="resultsTable">
            <thead>
                <tr>
                    <th>ì‚¬ìš©ì ID</th>
                    <th>ì´ë²¤íŠ¸ ë°›ì€ íšŸìˆ˜</th>
                    <th>ì´ë²¤íŠ¸ ë°›ì€ ì´í›„ ì…ê¸ˆì•¡ í•©</th>
                    <th>ë§ˆì§€ë§‰ ê²Œì„ë‚ ì§œ</th>
                    <th>ì´ë²¤íŠ¸ ê¸ˆì•¡(ìµœì‹ ìˆœ)</th>
                </tr>
            </thead>
            <tbody>
                <!-- ë°ì´í„° í–‰ë“¤ì´ JavaScriptë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
            </tbody>
        </table>
        
        <div class="pagination" id="pagination">
            <!-- í˜ì´ì§€ë„¤ì´ì…˜ ë§í¬ë“¤ì´ JavaScriptë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
        </div>
        
        <div class="summary">
            <h3>ìš”ì•½</h3>
            <p>ì´ 141ëª…ì˜ ì‚¬ìš©ìê°€ ë¶„ì„ ì¡°ê±´ì„ ì¶©ì¡±í•©ë‹ˆë‹¤. ì´ ì‚¬ìš©ìë“¤ì€ ëª¨ë‘ 10ì¼ ì´ìƒ ê²Œì„ì„ í•˜ì§€ ì•Šì•˜ìœ¼ë©°, ì´ë²¤íŠ¸ ì§€ê¸‰ í›„ ì ì–´ë„ í•œ ë²ˆ ì´ìƒ ì…ê¸ˆí•œ ê¸°ë¡ì´ ìˆìŠµë‹ˆë‹¤.</p>
            <p>ì£¼ìš” ë°œê²¬ ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
            <ul>
                <li>ê°€ì¥ ë§ì€ ì´ë²¤íŠ¸ë¥¼ ë°›ì€ ì‚¬ìš©ìëŠ” "ug3802"ë¡œ 8íšŒ ì´ë²¤íŠ¸ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.</li>
                <li>ì´ë²¤íŠ¸ í›„ ê°€ì¥ ë§ì€ ì…ê¸ˆì•¡ì„ ê¸°ë¡í•œ ì‚¬ìš©ìëŠ” "jiaw189"ë¡œ 764,000ì›ì˜ ì…ê¸ˆì•¡ì„ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤.</li>
                <li>ê°€ì¥ ìµœê·¼ì— ê²Œì„ì„ í•œ ë‚ ì§œëŠ” 2025ë…„ 5ì›” 5ì¼ì…ë‹ˆë‹¤.</li>
                <li>ì´ ì…ê¸ˆì•¡ì€ 3,255,134ì›ì…ë‹ˆë‹¤.</li>
                <li>ì „ì²´ ì´ë²¤íŠ¸ ì§€ê¸‰ íšŸìˆ˜ëŠ” 407íšŒì…ë‹ˆë‹¤.</li>
                <li>ê°€ì¥ í° ë‹¨ì¼ ì´ë²¤íŠ¸ ì§€ê¸‰ ê¸ˆì•¡ì€ "hh3803"ì—ê²Œ ì§€ê¸‰ëœ 3,330ì›ì…ë‹ˆë‹¤.</li>
            </ul>
        </div>
        
        <div class="file-links">
            <h4>ê´€ë ¨ íŒŒì¼:</h4>
            <a href="inactive_event_deposit_data.csv"><span class="icon">ğŸ“Š</span>CSV ë°ì´í„°</a>
            <a href="inactive_event_deposit_query.sql"><span class="icon">ğŸ’»</span>SQL ì¿¼ë¦¬ ì½”ë“œ</a>
            <a href="inactive_event_deposit_methodology.md"><span class="icon">ğŸ“</span>ë¶„ì„ ë°©ë²•ë¡ </a>
        </div>
    </div>
    
    <footer>
        <p>ìƒì„±ì¼: 2025ë…„ 5ì›” 17ì¼</p>
        <p>ì´ ë¬¸ì„œëŠ” í—¤ë¥´ë©”ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ ë¶„ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
    </footer>

    <script>
        // CSV íŒŒì¼ì„ ê°€ì ¸ì™€ íŒŒì‹±í•˜ëŠ” í•¨ìˆ˜ (UTF-8 ì¸ì½”ë”© ëª…ì‹œ)
        async function fetchCSVData() {
            try {
                // ê³ ì • í—¤ë” (CSV íŒŒì¼ì˜ í—¤ë”ëŠ” ë¬´ì‹œ)
                const fixedHeaders = [
                    "ì‚¬ìš©ìid", 
                    "ì´ë²¤íŠ¸ ë°›ì€ íšŸìˆ˜", 
                    "ì´ë²¤íŠ¸ ë°›ì€ ì´í›„ ì…ê¸ˆì•¡ í•©", 
                    "ë§ˆì§€ë§‰ ê²Œì„ë‚ ì§œ", 
                    "ì´ë²¤íŠ¸ ê¸ˆì•¡(ìµœì‹ ìˆœ)"
                ];

                const response = await fetch('inactive_event_deposit_data.csv');
                const csvText = await response.text();
                const lines = csvText.trim().split('\n');
                
                // ì²« ë²ˆì§¸ ì¤„(í—¤ë”)ëŠ” ë¬´ì‹œí•˜ê³  ë°ì´í„° í–‰ë§Œ ì²˜ë¦¬
                const userData = [];
                for (let i = 1; i < lines.length; i++) {
                    const line = lines[i];
                    
                    // CSV í–‰ì„ ì‰¼í‘œë¡œ ë¶„ë¦¬í•˜ë˜, ë”°ì˜´í‘œ ë‚´ì˜ ì‰¼í‘œëŠ” ë¬´ì‹œ
                    const values = [];
                    let value = '';
                    let insideQuotes = false;
                    
                    for (let j = 0; j < line.length; j++) {
                        const char = line[j];
                        
                        if (char === '"') {
                            insideQuotes = !insideQuotes;
                        } else if (char === ',' && !insideQuotes) {
                            values.push(value);
                            value = '';
                        } else {
                            value += char;
                        }
                    }
                    values.push(value); // ë§ˆì§€ë§‰ ê°’ ì¶”ê°€
                    
                    // ë°ì´í„° ê°ì²´ë¡œ ë³€í™˜ - ëª…ì‹œì  í—¤ë” ë§¤í•‘ ì‚¬ìš©
                    userData.push({
                        id: values[0],
                        eventCount: parseInt(values[1]),
                        deposit: parseInt(values[2]),
                        lastDate: values[3],
                        rewardList: values[4].replace(/"/g, '') // ë”°ì˜´í‘œ ì œê±°
                    });
                }
                
                return userData;
            } catch (error) {
                console.error('CSV íŒŒì¼ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                
                // ì˜¤ë¥˜ ë°œìƒ ì‹œ ë°±ì—… ë°ì´í„° ì‚¬ìš©
                return backupUserData;
            }
        }
        
        // ë°±ì—…ìš© ë°ì´í„° ë°°ì—´ ì •ì˜ - ì „ì²´ 141ê±´ì˜ ë°ì´í„°
        const backupUserData = [
          { id: "ja3106", eventCount: 6, deposit: 5500, lastDate: "2025-05-05", rewardList: "100,100,100,100,100,111" },
          { id: "xja3802", eventCount: 2, deposit: 3000, lastDate: "2025-05-04", rewardList: "300,300" },
          { id: "ph3007", eventCount: 2, deposit: 2700, lastDate: "2025-05-04", rewardList: "200,200" },
          { id: "mm3801", eventCount: 3, deposit: 18800, lastDate: "2025-05-03", rewardList: "100,300,100" },
          { id: "ug3004", eventCount: 5, deposit: 1000, lastDate: "2025-05-03", rewardList: "200,300,300,300,555" },
          { id: "ue3012", eventCount: 2, deposit: 19200, lastDate: "2025-05-03", rewardList: "200,300" },
          { id: "yi3801", eventCount: 4, deposit: 6000, lastDate: "2025-05-03", rewardList: "100,200,222,222" },
          { id: "obna001", eventCount: 2, deposit: 2800, lastDate: "2025-05-03", rewardList: "100,100" },
          { id: "yi3803", eventCount: 4, deposit: 2500, lastDate: "2025-05-02", rewardList: "100,100,100,222" },
          { id: "quh3803", eventCount: 4, deposit: 1500, lastDate: "2025-05-02", rewardList: "100,100,100,111" },
          { id: "ud3002", eventCount: 2, deposit: 5000, lastDate: "2025-05-01", rewardList: "200,100" },
          { id: "hn3102", eventCount: 4, deposit: 22685, lastDate: "2025-05-01", rewardList: "100,100,500,300" },
          { id: "ug3802", eventCount: 8, deposit: 1000, lastDate: "2025-05-01", rewardList: "100,100,300,200,200,200,333,555" },
          { id: "yi3175", eventCount: 7, deposit: 470, lastDate: "2025-05-01", rewardList: "100,100,100,200,100,200,222" },
          { id: "yi3162", eventCount: 1, deposit: 1000, lastDate: "2025-05-01", rewardList: "500" },
          { id: "jiaw189", eventCount: 6, deposit: 764000, lastDate: "2025-04-30", rewardList: "888,800,500,888,888,888" },
          { id: "ul3801", eventCount: 2, deposit: 1600, lastDate: "2025-04-30", rewardList: "100,100" },
          { id: "aa3807", eventCount: 1, deposit: 132000, lastDate: "2025-04-30", rewardList: "1000" },
          { id: "ue3015", eventCount: 2, deposit: 3000, lastDate: "2025-04-30", rewardList: "200,222" },
          { id: "pi3809", eventCount: 5, deposit: 740, lastDate: "2025-04-30", rewardList: "100,100,100,100,111" },
          { id: "xu3101", eventCount: 4, deposit: 149400, lastDate: "2025-04-29", rewardList: "300,300,300,333" },
          { id: "uq3111", eventCount: 4, deposit: 40510, lastDate: "2025-04-29", rewardList: "100,200,200,200" },
          { id: "xuc3501", eventCount: 5, deposit: 5800, lastDate: "2025-04-29", rewardList: "100,100,100,100,100" },
          { id: "xhn3101", eventCount: 4, deposit: 5500, lastDate: "2025-04-29", rewardList: "100,100,111,100" },
          { id: "ji3149", eventCount: 4, deposit: 6700, lastDate: "2025-04-29", rewardList: "100,100,100,111" },
          { id: "pi3805", eventCount: 5, deposit: 1500, lastDate: "2025-04-29", rewardList: "100,100,100,111,222" },
          { id: "xja3177", eventCount: 3, deposit: 12000, lastDate: "2025-04-29", rewardList: "200,222,100" },
          { id: "obua024", eventCount: 4, deposit: 5000, lastDate: "2025-04-29", rewardList: "100,300,200,333" },
          { id: "uz3002", eventCount: 2, deposit: 1500, lastDate: "2025-04-29", rewardList: "100,100" },
          { id: "pi3812", eventCount: 1, deposit: 147200, lastDate: "2025-04-29", rewardList: "200" },
          { id: "mdudw003", eventCount: 2, deposit: 15500, lastDate: "2025-04-29", rewardList: "100,100" },
          { id: "xua3024", eventCount: 4, deposit: 8000, lastDate: "2025-04-29", rewardList: "100,111,100,100" },
          { id: "mdyaw006", eventCount: 3, deposit: 25000, lastDate: "2025-04-29", rewardList: "1000,100,200" },
          { id: "ji3810", eventCount: 1, deposit: 3000, lastDate: "2025-04-29", rewardList: "100" },
          { id: "ji3808", eventCount: 2, deposit: 3600, lastDate: "2025-04-29", rewardList: "100,100" },
          { id: "xja3148", eventCount: 2, deposit: 500, lastDate: "2025-04-29", rewardList: "100,100" },
          { id: "obja155", eventCount: 3, deposit: 1500, lastDate: "2025-04-29", rewardList: "300,100,111" },
          { id: "ju3210", eventCount: 1, deposit: 1000, lastDate: "2025-04-29", rewardList: "200" },
          { id: "ud3001", eventCount: 4, deposit: 2000, lastDate: "2025-04-29", rewardList: "100,100,200,222" },
          { id: "ggw001", eventCount: 2, deposit: 70000, lastDate: "2025-04-29", rewardList: "100,500" },
          { id: "ji3107", eventCount: 4, deposit: 1500, lastDate: "2025-04-25", rewardList: "200,200,100,111" },
          { id: "ja3168", eventCount: 4, deposit: 5300, lastDate: "2025-04-25", rewardList: "100,200,100,333" },
          { id: "mduew007", eventCount: 1, deposit: 45355, lastDate: "2025-04-24", rewardList: "300" },
          { id: "yy3001", eventCount: 2, deposit: 1000, lastDate: "2025-04-24", rewardList: "100,100" },
          { id: "ji3129", eventCount: 2, deposit: 26000, lastDate: "2025-04-24", rewardList: "100,100" },
          { id: "hn3806", eventCount: 1, deposit: 500, lastDate: "2025-04-23", rewardList: "100" },
          { id: "xpi3806", eventCount: 6, deposit: 72500, lastDate: "2025-04-22", rewardList: "300,222,200,333,200,200" },
          { id: "li3100", eventCount: 1, deposit: 9700, lastDate: "2025-04-22", rewardList: "100" },
          { id: "ju3801", eventCount: 1, deposit: 1800, lastDate: "2025-04-22", rewardList: "100" },
          { id: "ud3805", eventCount: 4, deposit: 37150, lastDate: "2025-04-22", rewardList: "200,200,200,200" },
          { id: "yaw117", eventCount: 1, deposit: 28000, lastDate: "2025-04-22", rewardList: "500" },
          { id: "mdptw006", eventCount: 2, deposit: 2000, lastDate: "2025-04-22", rewardList: "100,300" },
          { id: "mduhw803", eventCount: 2, deposit: 5000, lastDate: "2025-04-22", rewardList: "100,100" },
          { id: "ya3809", eventCount: 1, deposit: 4000, lastDate: "2025-04-22", rewardList: "100" },
          { id: "yi3102", eventCount: 4, deposit: 1000, lastDate: "2025-04-22", rewardList: "100,100,111,111" },
          { id: "pt3804", eventCount: 2, deposit: 5500, lastDate: "2025-04-22", rewardList: "300,333" },
          { id: "ji3809", eventCount: 1, deposit: 1000, lastDate: "2025-04-21", rewardList: "200" },
          { id: "spt21", eventCount: 1, deposit: 21000, lastDate: "2025-04-19", rewardList: "200" },
          { id: "ja3186", eventCount: 1, deposit: 1500, lastDate: "2025-04-17", rewardList: "100" },
          { id: "pm3801", eventCount: 4, deposit: 22500, lastDate: "2025-04-16", rewardList: "100,200,300,333" },
          { id: "yi3002", eventCount: 1, deposit: 2000, lastDate: "2025-04-16", rewardList: "100" },
          { id: "gg3806", eventCount: 3, deposit: 28200, lastDate: "2025-04-15", rewardList: "200,200,222" },
          { id: "pi3804", eventCount: 5, deposit: 90000, lastDate: "2025-04-14", rewardList: "500,500,300,500,555" },
          { id: "yi3107", eventCount: 3, deposit: 1500, lastDate: "2025-04-14", rewardList: "100,100,100" },
          { id: "bb3002", eventCount: 4, deposit: 194000, lastDate: "2025-04-13", rewardList: "100,500,300,333" },
          { id: "mdupw003", eventCount: 7, deposit: 1500, lastDate: "2025-04-12", rewardList: "100,100,100,100,100,111,222" },
          { id: "ji3500", eventCount: 5, deposit: 4000, lastDate: "2025-04-11", rewardList: "800,500,500,300,500" },
          { id: "mdpsw001", eventCount: 4, deposit: 5700, lastDate: "2025-04-11", rewardList: "100,100,200,200" },
          { id: "mdggw002", eventCount: 1, deposit: 3700, lastDate: "2025-04-10", rewardList: "100" },
          { id: "mducw002", eventCount: 3, deposit: 148700, lastDate: "2025-04-09", rewardList: "300,200,300" },
          { id: "pi3801", eventCount: 1, deposit: 17100, lastDate: "2025-04-09", rewardList: "222" },
          { id: "yi3148", eventCount: 4, deposit: 2000, lastDate: "2025-04-08", rewardList: "100,100,100,111" },
          { id: "qya3121", eventCount: 4, deposit: 13000, lastDate: "2025-04-07", rewardList: "300,200,300,333" },
          { id: "pl3013", eventCount: 5, deposit: 76000, lastDate: "2025-04-07", rewardList: "100,200,200,222,222" },
          { id: "pf3003", eventCount: 4, deposit: 5000, lastDate: "2025-04-07", rewardList: "100,100,100,111" },
          { id: "ja3175", eventCount: 2, deposit: 3000, lastDate: "2025-04-07", rewardList: "200,100" },
          { id: "ue3001", eventCount: 4, deposit: 13000, lastDate: "2025-04-06", rewardList: "500,200,300,500" },
          { id: "ddw001", eventCount: 5, deposit: 13300, lastDate: "2025-04-06", rewardList: "300,200,300,333,555" },
          { id: "un3803", eventCount: 1, deposit: 1000, lastDate: "2025-04-03", rewardList: "300" },
          { id: "qhn3143", eventCount: 2, deposit: 44700, lastDate: "2025-04-03", rewardList: "100,333" },
          { id: "hn3137", eventCount: 4, deposit: 10500, lastDate: "2025-04-03", rewardList: "100,100,100,111" },
          { id: "xuz3801", eventCount: 5, deposit: 3700, lastDate: "2025-04-01", rewardList: "100,111,111,100,100" },
          { id: "abli001", eventCount: 4, deposit: 18500, lastDate: "2025-04-01", rewardList: "200,100,100,111" },
          { id: "ya3180", eventCount: 3, deposit: 14100, lastDate: "2025-04-01", rewardList: "100,100,222" },
          { id: "mdyaw171", eventCount: 1, deposit: 13800, lastDate: "2025-03-29", rewardList: "100" },
          { id: "ja3812", eventCount: 3, deposit: 2300, lastDate: "2025-03-28", rewardList: "100,100,100" },
          { id: "mdnnw801", eventCount: 1, deposit: 49100, lastDate: "2025-03-27", rewardList: "200" },
          { id: "uf3035", eventCount: 1, deposit: 2100, lastDate: "2025-03-27", rewardList: "100" },
          { id: "xua3801", eventCount: 3, deposit: 56900, lastDate: "2025-03-26", rewardList: "333,333,300" },
          { id: "gg3832", eventCount: 4, deposit: 23900, lastDate: "2025-03-25", rewardList: "300,200,222,222" },
          { id: "ya3503", eventCount: 1, deposit: 4000, lastDate: "2025-03-25", rewardList: "100" },
          { id: "qji3502", eventCount: 6, deposit: 1500, lastDate: "2025-03-22", rewardList: "100,100,100,200,111,222" },
          { id: "ya3004", eventCount: 6, deposit: 3100, lastDate: "2025-03-22", rewardList: "300,100,100,100,222,222" },
          { id: "qja3126", eventCount: 5, deposit: 23600, lastDate: "2025-03-21", rewardList: "200,200,333,333,333" },
          { id: "pplw011", eventCount: 2, deposit: 2200, lastDate: "2025-03-21", rewardList: "200,200" },
          { id: "un3802", eventCount: 1, deposit: 4000, lastDate: "2025-03-19", rewardList: "200" },
          { id: "obja002", eventCount: 2, deposit: 11000, lastDate: "2025-03-18", rewardList: "300,500" },
          { id: "ja3103", eventCount: 3, deposit: 1500, lastDate: "2025-03-17", rewardList: "100,100,222" },
          { id: "ya3803", eventCount: 4, deposit: 500, lastDate: "2025-03-15", rewardList: "100,100,100,222" },
          { id: "uk3003", eventCount: 1, deposit: 1300, lastDate: "2025-03-15", rewardList: "200" },
          { id: "py3004", eventCount: 4, deposit: 16100, lastDate: "2025-03-14", rewardList: "300,100,200,333" },
          { id: "ya3130", eventCount: 7, deposit: 8000, lastDate: "2025-03-14", rewardList: "200,300,300,300,333,333,333" },
          { id: "ug3808", eventCount: 3, deposit: 10000, lastDate: "2025-03-14", rewardList: "300,500,500" },
          { id: "uddw002", eventCount: 4, deposit: 6600, lastDate: "2025-03-14", rewardList: "500,500,500,555" },
          { id: "ug3002", eventCount: 1, deposit: 3500, lastDate: "2025-03-14", rewardList: "111" },
          { id: "umw010", eventCount: 3, deposit: 32000, lastDate: "2025-03-11", rewardList: "500,500,555" },
          { id: "tt3803", eventCount: 1, deposit: 600, lastDate: "2025-03-11", rewardList: "200" },
          { id: "obhn119", eventCount: 1, deposit: 12300, lastDate: "2025-03-11", rewardList: "200" },
          { id: "quh3002", eventCount: 5, deposit: 500, lastDate: "2025-03-07", rewardList: "100,500,100,100,222" },
          { id: "hh3803", eventCount: 5, deposit: 87000, lastDate: "2025-03-04", rewardList: "500,200,200,333,3330" },
          { id: "qpi3803", eventCount: 4, deposit: 500, lastDate: "2025-02-28", rewardList: "100,100,100,111" },
          { id: "mdeew804", eventCount: 4, deposit: 56234, lastDate: "2025-02-24", rewardList: "300,300,333,555" },
          { id: "obhn143", eventCount: 1, deposit: 1860, lastDate: "2025-02-22", rewardList: "200" },
          { id: "un3812", eventCount: 1, deposit: 1000, lastDate: "2025-02-21", rewardList: "300" },
          { id: "dd3801", eventCount: 3, deposit: 10900, lastDate: "2025-02-20", rewardList: "300,500,500" },
          { id: "obuc002", eventCount: 1, deposit: 70200, lastDate: "2025-02-18", rewardList: "500" },
          { id: "obuh501", eventCount: 7, deposit: 7000, lastDate: "2025-02-17", rewardList: "300,300,200,333,555,333,222" },
          { id: "ff3802", eventCount: 2, deposit: 15000, lastDate: "2025-02-12", rewardList: "200,222" },
          { id: "yaaw206", eventCount: 3, deposit: 24100, lastDate: "2025-02-10", rewardList: "300,300,666" },
          { id: "mduaw801", eventCount: 2, deposit: 2800, lastDate: "2025-01-27", rewardList: "100,100" },
          { id: "mdpvw001", eventCount: 2, deposit: 700, lastDate: "2025-01-26", rewardList: "100,222" },
          { id: "ja3140", eventCount: 2, deposit: 500, lastDate: "2025-01-26", rewardList: "100,111" },
          { id: "hh3805", eventCount: 2, deposit: 129000, lastDate: "2025-01-21", rewardList: "200,333" },
          { id: "obua001", eventCount: 2, deposit: 2000, lastDate: "2025-01-21", rewardList: "300,300" },
          { id: "ud3003", eventCount: 1, deposit: 500, lastDate: "2025-01-18", rewardList: "200" },
          { id: "uyyw002", eventCount: 1, deposit: 6100, lastDate: "2025-01-18", rewardList: "222" },
          { id: "qya3501", eventCount: 3, deposit: 500, lastDate: "2025-01-12", rewardList: "100,100,111" },
          { id: "obhn3102", eventCount: 2, deposit: 1000, lastDate: "2025-01-12", rewardList: "100,111" },
          { id: "nn3801", eventCount: 1, deposit: 5300, lastDate: "2025-01-11", rewardList: "100" },
          { id: "yhn311", eventCount: 3, deposit: 1500, lastDate: "2025-01-11", rewardList: "111,111,100" },
          { id: "xug3001", eventCount: 4, deposit: 1100, lastDate: "2025-01-11", rewardList: "111,111,100,100" },
          { id: "hn3143", eventCount: 2, deposit: 620, lastDate: "2025-01-09", rewardList: "222,222" },
          { id: "ee3801", eventCount: 3, deposit: 11000, lastDate: "2024-12-25", rewardList: "200,200,222" },
          { id: "mdyaw139", eventCount: 1, deposit: 4800, lastDate: "2024-12-25", rewardList: "100" },
          { id: "mduqw301", eventCount: 1, deposit: 2000, lastDate: "2024-12-22", rewardList: "100" },
          { id: "ubw006", eventCount: 2, deposit: 1000, lastDate: "2024-12-09", rewardList: "100,222" },
          { id: "ji3801", eventCount: 2, deposit: 1000, lastDate: "2024-12-06", rewardList: "100,111" },
          { id: "sky222", eventCount: 1, deposit: 10, lastDate: "2024-12-04", rewardList: "100" },
          { id: "xgg3805", eventCount: 3, deposit: 2300, lastDate: "2024-11-27", rewardList: "555,333,200" },
          { id: "xpi3804", eventCount: 1, deposit: 10000, lastDate: "2024-11-15", rewardList: "555" },
          { id: "li3001", eventCount: 1, deposit: 1000, lastDate: "2024-06-23", rewardList: "111" }
        ];

        // ë³€ìˆ˜ ì´ˆê¸°í™”
        const itemsPerPage = 30;
        let currentPage = 1;
        let userData = [];
        let totalItems = 0;
        let totalPages = 0;

        // í…Œì´ë¸” ë³¸ë¬¸ ì°¸ì¡°
        const tableBody = document.querySelector('#resultsTable tbody');
        // í˜ì´ì§€ë„¤ì´ì…˜ ì»¨í…Œì´ë„ˆ ì°¸ì¡°
        const paginationContainer = document.getElementById('pagination');
        // í˜ì´ì§€ ì •ë³´ ì°¸ì¡°
        const pageInfo = document.getElementById('pageInfo');

        // í…Œì´ë¸” í—¤ë” ì§ì ‘ ì„¤ì •
        const headers = ["ì‚¬ìš©ì ID", "ì´ë²¤íŠ¸ ë°›ì€ íšŸìˆ˜", "ì´ë²¤íŠ¸ ë°›ì€ ì´í›„ ì…ê¸ˆì•¡ í•©", "ë§ˆì§€ë§‰ ê²Œì„ë‚ ì§œ", "ì´ë²¤íŠ¸ ê¸ˆì•¡(ìµœì‹ ìˆœ)"];
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ì´ˆê¸°í™”
        async function initData() {
            try {
                // CSVì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹œë„
                userData = await fetchCSVData();
            } catch (error) {
                console.error('ë°ì´í„° ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                // ì˜¤ë¥˜ ë°œìƒ ì‹œ ë°±ì—… ë°ì´í„° ì‚¬ìš©
                userData = backupUserData;
            }
            
            totalItems = userData.length;
            totalPages = Math.ceil(totalItems / itemsPerPage);
            
            // ì´ˆê¸° ë Œë”ë§
            renderTableData();
            renderPagination();
        }

        // í•¨ìˆ˜: í…Œì´ë¸” ë°ì´í„° ë Œë”ë§
        function renderTableData() {
            // í…Œì´ë¸” ë¹„ìš°ê¸°
            tableBody.innerHTML = '';
            
            // í˜„ì¬ í˜ì´ì§€ì— í‘œì‹œí•  ë°ì´í„° ê³„ì‚°
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, userData.length);
            
            // í˜„ì¬ í˜ì´ì§€ ë°ì´í„° ë Œë”ë§
            for (let i = startIndex; i < endIndex; i++) {
                const user = userData[i];
                const row = document.createElement('tr');
                
                // ê° ì…€ ìƒì„±
                row.innerHTML = `
                    <td>${user.id}</td>
                    <td class="number-cell">${user.eventCount}íšŒ</td>
                    <td class="number-cell">${user.deposit.toLocaleString('ko-KR')}</td>
                    <td>${user.lastDate}</td>
                    <td class="number-cell">${user.rewardList}</td>
                `;
                
                tableBody.appendChild(row);
            }
            
            // ì´ê³„ í–‰ ì¶”ê°€
            if (currentPage === 1) {
                const totalRow = document.createElement('tr');
                totalRow.className = 'total-row';
                
                // ì „ì²´ ë°ì´í„°ì— ëŒ€í•œ ì´ê³„ ê³„ì‚°
                const totalCount = userData.reduce((sum, user) => sum + user.eventCount, 0); // ì „ì²´ ì´ë²¤íŠ¸ ì§€ê¸‰ íšŸìˆ˜
                const totalDeposit = userData.reduce((sum, user) => sum + user.deposit, 0); // ì „ì²´ ì…ê¸ˆì•¡ í•©ê³„
                
                totalRow.innerHTML = `
                    <td>ì´ê³„ (${totalItems}ëª…)</td>
                    <td class="number-cell">${totalCount}íšŒ</td>
                    <td class="number-cell">${totalDeposit.toLocaleString('ko-KR')}</td>
                    <td>-</td>
                    <td>-</td>
                `;
                
                tableBody.appendChild(totalRow);
            }
            
            // í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸
            pageInfo.textContent = `í˜ì´ì§€ ${currentPage} / ${totalPages} (ì´ ${totalItems}ëª…ì˜ ì‚¬ìš©ì)`;
        }

        // í•¨ìˆ˜: í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
        function renderPagination() {
            paginationContainer.innerHTML = '';
            
            // ì²˜ìŒìœ¼ë¡œ ë²„íŠ¼
            if (currentPage > 1) {
                const firstLink = document.createElement('a');
                firstLink.textContent = 'â—€â—€ ì²˜ìŒ';
                firstLink.onclick = () => {
                    currentPage = 1;
                    renderTableData();
                    updateActivePageLink();
                };
                paginationContainer.appendChild(firstLink);
            }
            
            // ì´ì „ ë²„íŠ¼
            if (currentPage > 1) {
                const prevLink = document.createElement('a');
                prevLink.textContent = 'â—€ ì´ì „';
                prevLink.onclick = () => {
                    currentPage--;
                    renderTableData();
                    updateActivePageLink();
                };
                paginationContainer.appendChild(prevLink);
            }
            
            // í˜ì´ì§€ ë²ˆí˜¸
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, startPage + 4);
            
            for (let i = startPage; i <= endPage; i++) {
                const pageLink = document.createElement('a');
                pageLink.textContent = i;
                pageLink.dataset.page = i;
                if (i === currentPage) {
                    pageLink.className = 'active';
                }
                pageLink.onclick = () => {
                    currentPage = i;
                    renderTableData();
                    updateActivePageLink();
                };
                paginationContainer.appendChild(pageLink);
            }
            
            // ë‹¤ìŒ ë²„íŠ¼
            if (currentPage < totalPages) {
                const nextLink = document.createElement('a');
                nextLink.textContent = 'ë‹¤ìŒ â–¶';
                nextLink.onclick = () => {
                    currentPage++;
                    renderTableData();
                    updateActivePageLink();
                };
                paginationContainer.appendChild(nextLink);
            }
            
            // ë§ˆì§€ë§‰ìœ¼ë¡œ ë²„íŠ¼
            if (currentPage < totalPages) {
                const lastLink = document.createElement('a');
                lastLink.textContent = 'ë§ˆì§€ë§‰ â–¶â–¶';
                lastLink.onclick = () => {
                    currentPage = totalPages;
                    renderTableData();
                    updateActivePageLink();
                };
                paginationContainer.appendChild(lastLink);
            }
        }

        // í•¨ìˆ˜: í™œì„± í˜ì´ì§€ ë§í¬ ì—…ë°ì´íŠ¸
        function updateActivePageLink() {
            const pageLinks = paginationContainer.querySelectorAll('a');
            pageLinks.forEach(link => {
                if (link.dataset.page) {
                    if (parseInt(link.dataset.page) === currentPage) {
                        link.className = 'active';
                    } else {
                        link.className = '';
                    }
                }
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ì´ˆê¸°í™” ë° ë Œë”ë§
        window.addEventListener('DOMContentLoaded', initData);
    </script>
    <script src="../js/report-nav.js"></script>

</html>