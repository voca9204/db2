<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ê°€ì¹˜ ì‚¬ìš©ì ë¶„ì„ ë³´ê³ ì„œ</title>
    <link rel="stylesheet" href="../css/report-nav.css">
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        h1, h2, h3 {
            color: #2c3e50;
        }
        
        header h1 {
            color: white;
            margin: 0;
        }
        
        header p {
            margin: 10px 0 0;
            color: #ecf0f1;
            font-size: 1.1em;
        }
        
        .section {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .section h2 {
            margin-top: 0;
            border-left: 4px solid #3498db;
            padding-left: 10px;
            margin-bottom: 20px;
        }
        
        .summary-stats {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .stat-card {
            flex: 1 1 200px;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 0 10px 15px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .stat-card h3 {
            margin: 0 0 10px;
            font-size: 1em;
            color: #6c757d;
            font-weight: 600;
        }
        
        .stat-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #3498db;
            margin-bottom: 5px;
        }
        
        .stat-sub {
            font-size: 0.9em;
            color: #6c757d;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        table th, table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #495057;
            cursor: pointer;
            position: relative;
        }
        
        table th.sortable:hover {
            background-color: #e9ecef;
        }
        
        table th.sortable::after {
            content: "\25B2";
            position: absolute;
            right: 10px;
            color: #adb5bd;
            font-size: 0.8em;
        }
        
        table th.sortable.sort-desc::after {
            content: "\25BC";
            color: #495057;
        }
        
        table th.sortable.sort-asc::after {
            content: "\25B2";
            color: #495057;
        }
        
        table tbody tr:hover {
            background-color: #f1f8ff;
        }
        
        .comparison-table {
            margin-top: 20px;
        }
        
        .comparison-table th, .comparison-table td {
            text-align: center;
        }
        
        .comparison-table th:first-child, .comparison-table td:first-child {
            text-align: left;
        }
        
        .status-active {
            color: #28a745;
            font-weight: 600;
        }
        
        .status-dormant {
            color: #dc3545;
            font-weight: 600;
        }
        
        .btn {
            display: inline-block;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 4px;
            font-weight: 500;
            margin-right: 10px;
            margin-bottom: 10px;
            transition: background-color 0.2s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .btn-secondary {
            background-color: #6c757d;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .chart-container {
            margin: 20px 0;
            height: 300px;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .pagination-btn {
            padding: 5px 10px;
            margin: 0 5px;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            cursor: pointer;
            background-color: #fff;
            color: #3498db;
        }
        
        .pagination-btn:hover, .pagination-btn.active {
            background-color: #3498db;
            color: #fff;
            border-color: #3498db;
        }
        
        .pagination-btn.disabled {
            color: #6c757d;
            cursor: not-allowed;
            background-color: #e9ecef;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.9em;
            color: #7f8c8d;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .tag {
            display: inline-block;
            padding: 3px 8px;
            margin-right: 5px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
        }
        
        .tag-active {
            background-color: rgba(40, 167, 69, 0.1);
            color: #28a745;
            border: 1px solid rgba(40, 167, 69, 0.2);
        }
        
        .tag-dormant {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
            border: 1px solid rgba(220, 53, 69, 0.2);
        }
        
        .insights {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        
        .insights h3 {
            margin-top: 0;
            color: #3498db;
        }
        
        .recommendations {
            background-color: #f0f9ff;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        
        .recommendations h3 {
            margin-top: 0;
            color: #28a745;
        }
        
        .recommendations ul, .insights ul {
            padding-left: 20px;
            margin-bottom: 0;
        }
        
        .recommendations li, .insights li {
            margin-bottom: 8px;
        }
        
        .recommendations li:last-child, .insights li:last-child {
            margin-bottom: 0;
        }
        
        .search-filter {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .search-filter input {
            flex: 2;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 0.9em;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .search-filter select {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 0.9em;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .search-filter button {
            padding: 8px 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        
        .search-filter button:hover {
            background-color: #2980b9;
        }
        
        .per-page-select {
            margin-left: auto;
            display: flex;
            align-items: center;
        }
        
        .per-page-select label {
            margin-right: 5px;
            font-size: 0.9em;
            color: #6c757d;
        }
        
        .per-page-select select {
            padding: 6px 10px;
        }
        
        .loading-spinner {
            display: none;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            margin: 20px auto;
            animation: spin 2s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #6c757d;
        }
        
        .empty-state p {
            font-size: 1.1em;
            margin-top: 10px;
        }
        
        .error-message {
            background-color: #fff5f5;
            color: #e53e3e;
            padding: 10px 15px;
            border-radius: 4px;
            border-left: 4px solid #e53e3e;
            margin-bottom: 20px;
            display: none;
        }
        
        #refreshButton {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #refreshButton i {
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <header>
        <h1>ê³ ê°€ì¹˜ ì‚¬ìš©ì ë¶„ì„ ë³´ê³ ì„œ</h1>
        <p>7ì¼ ì´ìƒ ê²Œì„ ê¸°ë¡ ë° ìœ íš¨ë°°íŒ… 50,000 ì´ìƒ ì‚¬ìš©ì ë¶„ì„</p>
        <p>ë¶„ì„ì¼: 2025ë…„ 5ì›” 18ì¼</p>
    </header>
    
    <div class="section">
        <h2>ë¶„ì„ ê°œìš”</h2>
        <p>ë³¸ ë³´ê³ ì„œëŠ” ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê³ ê°€ì¹˜ ì‚¬ìš©ìì— ëŒ€í•œ ë¶„ì„ ê²°ê³¼ì…ë‹ˆë‹¤:</p>
        <ul>
            <li>7ì¼ ì´ìƒ ê²Œì„ ê¸°ë¡ì´ ìˆëŠ” ì‚¬ìš©ì</li>
            <li>ì „ì²´ ìœ íš¨ë°°íŒ…(netBet)ì˜ í•©ì´ 50,000 ì´ìƒì¸ ì‚¬ìš©ì</li>
        </ul>
        
        <div class="summary-stats">
            <div class="stat-card">
                <h3>ì´ ê³ ê°€ì¹˜ ì‚¬ìš©ì ìˆ˜</h3>
                <div class="stat-value" id="totalUsers">731ëª…</div>
                <div class="stat-sub">ëª¨ë“  í™œì„± ë° íœ´ë©´ ì‚¬ìš©ì</div>
            </div>
            <div class="stat-card">
                <h3>í™œì„± ì‚¬ìš©ì ë¹„ìœ¨</h3>
                <div class="stat-value" id="activePercentage">17.0%</div>
                <div class="stat-sub" id="activeCount">124ëª… (ìµœê·¼ 30ì¼ ë‚´ í™œë™)</div>
            </div>
            <div class="stat-card">
                <h3>íœ´ë©´ ì‚¬ìš©ì ë¹„ìœ¨</h3>
                <div class="stat-value" id="dormantPercentage">83.0%</div>
                <div class="stat-sub" id="dormantCount">607ëª… (30ì¼ ì´ìƒ ë¯¸í™œë™)</div>
            </div>
            <div class="stat-card">
                <h3>í‰ê·  í”Œë ˆì´ ì¼ìˆ˜</h3>
                <div class="stat-value" id="avgPlayDays">78ì¼</div>
                <div class="stat-sub">ì „ì²´ ì‚¬ìš©ì ê¸°ì¤€</div>
            </div>
        </div>
    </div>
    
    <div class="section">
        <h2>í™œì„± vs íœ´ë©´ ì‚¬ìš©ì ë¹„êµ</h2>
        
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>ì§€í‘œ</th>
                    <th>í™œì„± ì‚¬ìš©ì (124ëª…)</th>
                    <th>íœ´ë©´ ì‚¬ìš©ì (607ëª…)</th>
                    <th>ì°¨ì´</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>í‰ê·  í”Œë ˆì´ ì¼ìˆ˜</td>
                    <td>137ì¼</td>
                    <td>66ì¼</td>
                    <td>+108%</td>
                </tr>
                <tr>
                    <td>í‰ê·  ìœ íš¨ë°°íŒ… ê¸ˆì•¡</td>
                    <td>8,511,679</td>
                    <td>4,531,555</td>
                    <td>+88%</td>
                </tr>
                <tr>
                    <td>ìµœëŒ€ ìœ íš¨ë°°íŒ… ê¸ˆì•¡</td>
                    <td>420,278,943 (jiaw189)</td>
                    <td>298,261,509 (ja2138)</td>
                    <td>+41%</td>
                </tr>
            </tbody>
        </table>
        
        <div class="insights">
            <h3>ì£¼ìš” ì¸ì‚¬ì´íŠ¸</h3>
            <ul>
                <li>í™œì„± ê³ ê°€ì¹˜ ì‚¬ìš©ìëŠ” íœ´ë©´ ì‚¬ìš©ìë³´ë‹¤ <strong>í‰ê·  í”Œë ˆì´ ì¼ìˆ˜ê°€ 2ë°° ì´ìƒ</strong> ë†’ìœ¼ë©°, ì´ëŠ” ì¥ê¸°ì ì¸ ì¶©ì„±ë„ì˜ ì¤‘ìš”í•œ ì§€í‘œì…ë‹ˆë‹¤.</li>
                <li>í™œì„± ê³ ê°€ì¹˜ ì‚¬ìš©ìì˜ <strong>í‰ê·  ìœ íš¨ë°°íŒ… ê¸ˆì•¡</strong>ì€ íœ´ë©´ ì‚¬ìš©ìë³´ë‹¤ <strong>88% ë†’ì€</strong> 8,511,679ìœ¼ë¡œ, í™œì„± ìƒíƒœê°€ ë² íŒ… í™œë™ê³¼ ê°•í•œ ìƒê´€ê´€ê³„ê°€ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</li>
                <li>í™œì„± ì‚¬ìš©ìëŠ” ì „ì²´ ê³ ê°€ì¹˜ ì‚¬ìš©ìì˜ 17%ì— ë¶ˆê³¼í•˜ì§€ë§Œ, ì´ ë² íŒ… ê¸ˆì•¡ì—ì„œ ì°¨ì§€í•˜ëŠ” ë¹„ì¤‘ì€ ë” ë†’ìŠµë‹ˆë‹¤.</li>
                <li>ìµœê³  ë² íŒ… ê¸ˆì•¡ì„ ê¸°ë¡í•œ ì‚¬ìš©ì 'jiaw189'ëŠ” í™œì„± ìƒíƒœë¥¼ ìœ ì§€í•˜ê³  ìˆì–´, VIP ê´€ë¦¬ì˜ ì¤‘ìš”ì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</li>
            </ul>
        </div>
    </div>
    
    <div class="section">
        <h2>ê³ ê°€ì¹˜ ì‚¬ìš©ì ëª©ë¡ (ì „ì²´ ëª©ë¡)</h2>
        
        <div class="error-message" id="errorMessage">
            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.
        </div>
        
        <div class="search-filter">
            <input type="text" id="userSearchInput" placeholder="ìœ ì €ëª…ìœ¼ë¡œ ê²€ìƒ‰...">
            <select id="statusFilter">
                <option value="all">ëª¨ë“  ìƒíƒœ</option>
                <option value="active">í™œì„± ì‚¬ìš©ì</option>
                <option value="dormant">íœ´ë©´ ì‚¬ìš©ì</option>
            </select>
            <select id="sortField">
                <option value="validBet">ìœ íš¨ë°°íŒ… ìˆœ</option>
                <option value="playDays">í”Œë ˆì´ ì¼ìˆ˜ ìˆœ</option>
                <option value="lastPlay">ë§ˆì§€ë§‰ í”Œë ˆì´ ìˆœ</option>
                <option value="daysSince">ê²½ê³¼ì¼ìˆ˜ ìˆœ</option>
            </select>
            <select id="sortDirection">
                <option value="desc">ë‚´ë¦¼ì°¨ìˆœ</option>
                <option value="asc">ì˜¤ë¦„ì°¨ìˆœ</option>
            </select>
            <button id="searchButton" class="btn">ê²€ìƒ‰</button>
            <button id="refreshButton" class="btn"><i>ğŸ”„</i> ìƒˆë¡œê³ ì¹¨</button>
            
            <div class="per-page-select">
                <label for="perPage">í‘œì‹œ í•­ëª©:</label>
                <select id="perPage">
                    <option value="10">10ê°œ</option>
                    <option value="20">20ê°œ</option>
                    <option value="50">50ê°œ</option>
                    <option value="100">100ê°œ</option>
                </select>
            </div>
        </div>
        
        <p>ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì§ì ‘ ì¡°íšŒí•œ ê³ ê°€ì¹˜ ì‚¬ìš©ì ëª©ë¡ì…ë‹ˆë‹¤. ê²€ìƒ‰ ë° í•„í„°ë§ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        
        <div class="loading-spinner" id="loadingSpinner"></div>
        
        <table id="usersTable">
            <thead>
                <tr>
                    <th>ìˆœìœ„</th>
                    <th>ìœ ì €ëª…</th>
                    <th>í”Œë ˆì´ ì¼ìˆ˜</th>
                    <th>ì´ ìœ íš¨ë°°íŒ…</th>
                    <th>ë§ˆì§€ë§‰ í”Œë ˆì´</th>
                    <th>ê²½ê³¼ì¼ìˆ˜</th>
                    <th>ìƒíƒœ</th>
                </tr>
            </thead>
            <tbody id="usersTableBody">
                <!-- ë°ì´í„°ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
            </tbody>
        </table>
        
        <div class="pagination" id="tablePagination">
            <!-- í˜ì´ì§€ë„¤ì´ì…˜ì€ JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>
        
        <div class="empty-state" id="emptyState" style="display: none;">
            <h3>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
            <p>ê²€ìƒ‰ì–´ ë˜ëŠ” í•„í„° ì¡°ê±´ì„ ë³€ê²½í•´ë³´ì„¸ìš”.</p>
        </div>
    </div>
    
    <div class="section">
        <h2>íœ´ë©´ ê¸°ê°„ë³„ ì‚¬ìš©ì ë¶„í¬</h2>
        
        <table>
            <thead>
                <tr>
                    <th>íœ´ë©´ ê¸°ê°„</th>
                    <th>ì‚¬ìš©ì ìˆ˜</th>
                    <th>ë¹„ìœ¨</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>31-60ì¼</td>
                    <td>39ëª…</td>
                    <td>6.4%</td>
                </tr>
                <tr>
                    <td>61-90ì¼</td>
                    <td>35ëª…</td>
                    <td>5.8%</td>
                </tr>
                <tr>
                    <td>91-180ì¼</td>
                    <td>49ëª…</td>
                    <td>8.1%</td>
                </tr>
                <tr>
                    <td>181-365ì¼</td>
                    <td>53ëª…</td>
                    <td>8.7%</td>
                </tr>
                <tr>
                    <td>365ì¼ ì´ìƒ</td>
                    <td>431ëª…</td>
                    <td>71.0%</td>
                </tr>
                <tr>
                    <td><strong>ì´ê³„</strong></td>
                    <td><strong>607ëª…</strong></td>
                    <td><strong>100%</strong></td>
                </tr>
            </tbody>
        </table>
        
        <div class="insights">
            <h3>íœ´ë©´ ì‚¬ìš©ì ì¸ì‚¬ì´íŠ¸</h3>
            <ul>
                <li>íœ´ë©´ ê³ ê°€ì¹˜ ì‚¬ìš©ìì˜ <strong>71%ê°€ 1ë…„ ì´ìƒ</strong> ë¯¸í™œë™ ìƒíƒœë¡œ, ì¥ê¸° íœ´ë©´ ì‚¬ìš©ìì˜ ë¹„ìœ¨ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.</li>
                <li><strong>ë‹¨ê¸° íœ´ë©´ ì‚¬ìš©ì(31-90ì¼)</strong>ëŠ” 12.2%(74ëª…)ë¡œ, ì´ë“¤ì€ ì ì ˆí•œ ìº í˜ì¸ì„ í†µí•´ ìƒëŒ€ì ìœ¼ë¡œ ì‰½ê²Œ ì¬í™œì„±í™”í•  ìˆ˜ ìˆëŠ” íƒ€ê²Ÿ ê·¸ë£¹ì…ë‹ˆë‹¤.</li>
                <li>ìƒìœ„ 10ìœ„ ë‚´ ê³ ê°€ì¹˜ ì‚¬ìš©ì ì¤‘ <strong>8ëª…ì´ íœ´ë©´ ìƒíƒœ</strong>ë¡œ, ì´ëŠ” ìƒë‹¹í•œ ë§¤ì¶œ ê¸°íšŒ ì†ì‹¤ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>
                <li>íœ´ë©´ ì‚¬ìš©ì ì¤‘ ì¼ë¶€ëŠ” ë§¤ìš° ë†’ì€ í”Œë ˆì´ ì¼ìˆ˜(ìµœëŒ€ 620ì¼)ë¥¼ ë³´ì˜€ìœ¼ë©°, ì´ëŠ” ê³¼ê±°ì— ë§¤ìš° ì¶©ì„±ë„ ë†’ì€ ì‚¬ìš©ìì˜€ìŒì„ ì‹œì‚¬í•©ë‹ˆë‹¤.</li>
            </ul>
        </div>
    </div>
    
    <div class="section">
        <h2>ê¶Œì¥ ì „ëµ</h2>
        
        <div class="recommendations">
            <h3>í™œì„± ê³ ê°€ì¹˜ ì‚¬ìš©ì ìœ ì§€ ì „ëµ</h3>
            <ul>
                <li><strong>ë§ì¶¤í˜• VIP í”„ë¡œê·¸ë¨</strong>: ê°œì¸í™”ëœ ë³´ìƒ ë° í˜œíƒ, ì „ë‹´ VIP ë§¤ë‹ˆì € ë°°ì •, ê³ ê¸‰ ì„œë¹„ìŠ¤ ë° íŠ¹ë³„ ì´ë²¤íŠ¸ ì´ˆëŒ€</li>
                <li><strong>ê³„ì¸µì  ì¶©ì„±ë„ í”„ë¡œê·¸ë¨</strong>: í™œë™ ìˆ˜ì¤€ì— ë”°ë¥¸ ë“±ê¸‰ ì‹œìŠ¤í…œ, ë“±ê¸‰ë³„ ì°¨ë³„í™”ëœ í˜œíƒ, ìƒìœ„ ë“±ê¸‰ ë‹¬ì„± ì‹œ ìƒë‹¹í•œ ë³´ìƒ</li>
                <li><strong>í™œë™ ì˜ˆì¸¡ ë° ì˜ˆë°©</strong>: í™œë™ íŒ¨í„´ ëª¨ë‹ˆí„°ë§, í™œë™ ê°ì†Œ ì‹œ ì¦‰ê°ì ì¸ ê°œì…, ìœ ì§€ìœ¨ ë†’ì€ ê²Œì„ ë° ì´ë²¤íŠ¸ ì¶”ì²œ</li>
            </ul>
        </div>
        
        <div class="recommendations">
            <h3>íœ´ë©´ ê³ ê°€ì¹˜ ì‚¬ìš©ì ì¬í™œì„±í™” ì „ëµ</h3>
            <ul>
                <li><strong>ì„¸ê·¸ë¨¼íŠ¸ë³„ ë§ì¶¤í˜• ì „ëµ</strong>:
                    <ul>
                        <li>ë‹¨ê¸° íœ´ë©´(31-90ì¼): ì¦‰ê°ì ì¸ ë³µê·€ ì¸ì„¼í‹°ë¸Œ</li>
                        <li>ì¤‘ê¸° íœ´ë©´(91-365ì¼): ë‹¨ê³„ì  ì¬ì°¸ì—¬ ìœ ë„</li>
                        <li>ì¥ê¸° íœ´ë©´(365ì¼+): ê°•ë ¥í•œ ë³µê·€ íŒ¨í‚¤ì§€</li>
                    </ul>
                </li>
                <li><strong>ìƒìœ„ íœ´ë©´ ì‚¬ìš©ì ì§‘ì¤‘ ê´€ë¦¬</strong>: ìƒìœ„ 100ëª…ì— ëŒ€í•œ ê°œë³„í™”ëœ ì ‘ê·¼, ì§ì ‘ì ì¸ ì—°ë½ ë° íŠ¹ë³„ ì œì•ˆ, ë³µê·€ ì‹œ ê³¼ê±° ìƒíƒœ ë³µì› ë° ì¶”ê°€ í˜œíƒ</li>
                <li><strong>ì´íƒˆ ì›ì¸ ë¶„ì„ ë° ê°œì„ </strong>: ê²Œì„ë³„/ì´ë²¤íŠ¸ë³„ ì´íƒˆë¥  ë¶„ì„, ê²½ìŸì‚¬ ëª¨ë‹ˆí„°ë§ ë° ë¹„êµ ë¶„ì„, ì‚¬ìš©ì ê²½í—˜ ë° ì„œë¹„ìŠ¤ ê°œì„ </li>
            </ul>
        </div>
    </div>
    
    <div class="section">
        <h2>ì‹¤í–‰ ê³„íš</h2>
        
        <h3>ì¦‰ì‹œ ì‹¤í–‰ í•­ëª© (1-4ì£¼)</h3>
        <ol>
            <li>í•µì‹¬ ì„¸ê·¸ë¨¼íŠ¸ ì •ì˜ ë° ìë™í™”ëœ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•</li>
            <li>ìƒìœ„ 100ëª…ì˜ íœ´ë©´ ê³ ê°€ì¹˜ ì‚¬ìš©ì ëŒ€ìƒ ê°œì¸í™”ëœ ì¬í™œì„±í™” ìº í˜ì¸ ì‹œì‘</li>
            <li>í™œì„± ê³ ê°€ì¹˜ ì‚¬ìš©ì ëŒ€ìƒ VIP í”„ë¡œê·¸ë¨ ê°•í™”</li>
        </ol>
        
        <h3>ì¤‘ê¸° ì‹¤í–‰ í•­ëª© (1-3ê°œì›”)</h3>
        <ol>
            <li>í™œë™ íŒ¨í„´ ì˜ˆì¸¡ ëª¨ë¸ ê°œë°œ ë° ì´íƒˆ ë°©ì§€ ì‹œìŠ¤í…œ êµ¬ì¶•</li>
            <li>ëª¨ë“  íœ´ë©´ ê³ ê°€ì¹˜ ì‚¬ìš©ì ëŒ€ìƒ ì„¸ê·¸ë¨¼íŠ¸ë³„ ì¬í™œì„±í™” ìº í˜ì¸ ì§„í–‰</li>
            <li>ê³ ê°€ì¹˜ ì‚¬ìš©ìì˜ ê²Œì„ ì„ í˜¸ë„ ë¶„ì„ ë° ë§ì¶¤í˜• ê²Œì„ ì¶”ì²œ ì‹œìŠ¤í…œ êµ¬í˜„</li>
        </ol>
        
        <h3>ì¥ê¸° ì‹¤í–‰ í•­ëª© (3-6ê°œì›”)</h3>
        <ol>
            <li>ì‚¬ìš©ì ìœ ì§€ ë° ì¬í™œì„±í™” ìº í˜ì¸ íš¨ê³¼ ë¶„ì„ ë° ìµœì í™”</li>
            <li>ì ì¬ì  ê³ ê°€ì¹˜ ì‚¬ìš©ì ì¡°ê¸° ì‹ë³„ ë° ìœ¡ì„± ì „ëµ êµ¬í˜„</li>
            <li>ê³ ê° ìƒì•  ê°€ì¹˜(CLV) ìµœì í™”ë¥¼ ìœ„í•œ í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶•</li>
        </ol>
    </div>
    
    <footer>
        <p>Â© 2025 DB2 í”„ë¡œì íŠ¸ íŒ€ | ë³´ê³ ì„œ ìƒì„±ì¼: 2025ë…„ 5ì›” 18ì¼</p>
        <p><a href="/index.html">ë©”ì¸ ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a></p>
    </footer>

    <script src="../js/report-nav.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // API ì„œë²„ URL
            const API_BASE_URL = 'http://localhost:5051/api/high-value-users';
            
            // ìš”ì†Œ ì°¸ì¡°
            const usersTableBody = document.getElementById('usersTableBody');
            const paginationContainer = document.getElementById('tablePagination');
            const searchInput = document.getElementById('userSearchInput');
            const statusFilter = document.getElementById('statusFilter');
            const sortField = document.getElementById('sortField');
            const sortDirection = document.getElementById('sortDirection');
            const searchButton = document.getElementById('searchButton');
            const refreshButton = document.getElementById('refreshButton');
            const perPageSelect = document.getElementById('perPage');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const emptyState = document.getElementById('emptyState');
            const errorMessage = document.getElementById('errorMessage');
            
            // ìƒíƒœ ë³€ìˆ˜
            let currentPage = 1;
            let totalPages = 1;
            let limit = parseInt(perPageSelect.value);
            
            // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
            loadUserData();
            
            // ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            searchButton.addEventListener('click', function() {
                currentPage = 1;
                loadUserData();
            });
            
            // ì—”í„° í‚¤ ì´ë²¤íŠ¸
            searchInput.addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    currentPage = 1;
                    loadUserData();
                }
            });
            
            // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            refreshButton.addEventListener('click', function() {
                loadUserData();
            });
            
            // í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ ë³€ê²½ ì´ë²¤íŠ¸
            perPageSelect.addEventListener('change', function() {
                limit = parseInt(this.value);
                currentPage = 1;
                loadUserData();
            });
            
            // ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ í•¨ìˆ˜
            function loadUserData() {
                // ë¡œë”© í‘œì‹œ
                loadingSpinner.style.display = 'block';
                usersTableBody.innerHTML = '';
                paginationContainer.innerHTML = '';
                emptyState.style.display = 'none';
                errorMessage.style.display = 'none';
                
                // íŒŒë¼ë¯¸í„° êµ¬ì„±
                const params = new URLSearchParams({
                    page: currentPage,
                    limit: limit,
                    sort: sortField.value,
                    direction: sortDirection.value,
                    filter: statusFilter.value,
                    search: searchInput.value.trim()
                });
                
                // API í˜¸ì¶œ
                fetch(`${API_BASE_URL}?${params.toString()}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('API ì‘ë‹µ ì˜¤ë¥˜: ' + response.status);
                        }
                        return response.json();
                    })
                    .then(data => {
                        // ë¡œë”© ìˆ¨ê¹€
                        loadingSpinner.style.display = 'none';
                        
                        // ê²°ê³¼ ì²˜ë¦¬
                        const { users, pagination } = data;
                        totalPages = pagination.total_pages;
                        
                        if (users.length === 0) {
                            // ê²°ê³¼ ì—†ìŒ í‘œì‹œ
                            emptyState.style.display = 'block';
                            return;
                        }
                        
                        // í…Œì´ë¸” ë Œë”ë§
                        renderUsersTable(users);
                        
                        // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
                        renderPagination(pagination);
                    })
                    .catch(error => {
                        // ì˜¤ë¥˜ ì²˜ë¦¬
                        console.error('ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                        loadingSpinner.style.display = 'none';
                        errorMessage.textContent = 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message;
                        errorMessage.style.display = 'block';
                    });
            }
            
            // ì‚¬ìš©ì í…Œì´ë¸” ë Œë”ë§ í•¨ìˆ˜
            function renderUsersTable(users) {
                usersTableBody.innerHTML = '';
                
                users.forEach(user => {
                    const row = document.createElement('tr');
                    
                    // ìœ íš¨ë°°íŒ… ê¸ˆì•¡ í¬ë§·íŒ…
                    const formattedBet = new Intl.NumberFormat('ko-KR').format(user.total_valid_bet);
                    
                    // ìƒíƒœ í´ë˜ìŠ¤
                    const statusClass = user.status === 'active' ? 'tag-active' : 'tag-dormant';
                    const statusText = user.status === 'active' ? 'í™œì„±' : 'íœ´ë©´';
                    
                    row.innerHTML = `
                        <td>${user.index}</td>
                        <td>${user.username}</td>
                        <td>${user.play_days}</td>
                        <td>${formattedBet}</td>
                        <td>${user.last_play}</td>
                        <td>${user.days_since}</td>
                        <td><span class="tag ${statusClass}">${statusText}</span></td>
                    `;
                    
                    usersTableBody.appendChild(row);
                });
            }
            
            // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§ í•¨ìˆ˜
            function renderPagination(pagination) {
                paginationContainer.innerHTML = '';
                
                const { page, total_pages } = pagination;
                
                if (total_pages <= 1) {
                    return;
                }
                
                // ì²˜ìŒ í˜ì´ì§€ ë²„íŠ¼
                const firstPageBtn = document.createElement('span');
                firstPageBtn.textContent = '<<';
                firstPageBtn.className = 'pagination-btn' + (page === 1 ? ' disabled' : '');
                firstPageBtn.addEventListener('click', () => {
                    if (page !== 1) {
                        currentPage = 1;
                        loadUserData();
                    }
                });
                paginationContainer.appendChild(firstPageBtn);
                
                // ì´ì „ í˜ì´ì§€ ë²„íŠ¼
                const prevPageBtn = document.createElement('span');
                prevPageBtn.textContent = '<';
                prevPageBtn.className = 'pagination-btn' + (page === 1 ? ' disabled' : '');
                prevPageBtn.addEventListener('click', () => {
                    if (page > 1) {
                        currentPage--;
                        loadUserData();
                    }
                });
                paginationContainer.appendChild(prevPageBtn);
                
                // í˜ì´ì§€ ë²ˆí˜¸ ë²„íŠ¼
                const maxPageBtns = 5;
                const startPage = Math.max(1, page - Math.floor(maxPageBtns / 2));
                const endPage = Math.min(total_pages, startPage + maxPageBtns - 1);
                
                for (let i = startPage; i <= endPage; i++) {
                    const pageBtn = document.createElement('span');
                    pageBtn.textContent = i;
                    pageBtn.className = 'pagination-btn' + (i === page ? ' active' : '');
                    pageBtn.addEventListener('click', () => {
                        currentPage = i;
                        loadUserData();
                    });
                    paginationContainer.appendChild(pageBtn);
                }
                
                // ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼
                const nextPageBtn = document.createElement('span');
                nextPageBtn.textContent = '>';
                nextPageBtn.className = 'pagination-btn' + (page === total_pages ? ' disabled' : '');
                nextPageBtn.addEventListener('click', () => {
                    if (page < total_pages) {
                        currentPage++;
                        loadUserData();
                    }
                });
                paginationContainer.appendChild(nextPageBtn);
                
                // ë§ˆì§€ë§‰ í˜ì´ì§€ ë²„íŠ¼
                const lastPageBtn = document.createElement('span');
                lastPageBtn.textContent = '>>';
                lastPageBtn.className = 'pagination-btn' + (page === total_pages ? ' disabled' : '');
                lastPageBtn.addEventListener('click', () => {
                    if (page !== total_pages) {
                        currentPage = total_pages;
                        loadUserData();
                    }
                });
                paginationContainer.appendChild(lastPageBtn);
            }
            
            // í…Œì´ë¸” í—¤ë” í´ë¦­ ì´ë²¤íŠ¸ - ì •ë ¬
            document.querySelectorAll('th').forEach(th => {
                th.addEventListener('click', function() {
                    const columnIndex = this.cellIndex;
                    
                    // ì •ë ¬ í•„ë“œ ë§¤í•‘
                    const sortFieldMapping = {
                        1: 'username', // ìœ ì €ëª…
                        2: 'playDays', // í”Œë ˆì´ ì¼ìˆ˜
                        3: 'validBet', // ì´ ìœ íš¨ë°°íŒ…
                        4: 'lastPlay', // ë§ˆì§€ë§‰ í”Œë ˆì´
                        5: 'daysSince' // ê²½ê³¼ì¼ìˆ˜
                    };
                    
                    // í—¤ë” í´ë¦­ì— ë”°ë¥¸ ì •ë ¬ ì²˜ë¦¬
                    if (columnIndex in sortFieldMapping) {
                        const field = sortFieldMapping[columnIndex];
                        
                        // ì´ë¯¸ ê°™ì€ í•„ë“œë¡œ ì •ë ¬ ì¤‘ì¸ ê²½ìš° ë°©í–¥ ì „í™˜
                        if (sortField.value === field) {
                            sortDirection.value = sortDirection.value === 'asc' ? 'desc' : 'asc';
                        } else {
                            sortField.value = field;
                            sortDirection.value = 'desc'; // ê¸°ë³¸ì€ ë‚´ë¦¼ì°¨ìˆœ
                        }
                        
                        // ë°ì´í„° ìƒˆë¡œ ë¡œë“œ
                        currentPage = 1;
                        loadUserData();
                    }
                });
            });
        });
    </script>
</body>
</html>
