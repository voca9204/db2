# Hermes 데이터베이스 변수 설명

이 문서는 Hermes 데이터베이스의 주요 변수들과 그 의미를 설명합니다. 필요에 따라 이 문서를 수정하고 확장해 나갈 수 있습니다.

## 금융 거래 관련 변수

### money_flows 테이블

| 변수명 | 값 | 설명 |
|--------|-----|------|
| type | 0 | 입금 (Deposit) |
| type | 1 | 출금 (Withdrawal) |

## 사용자 관련 변수

### users 테이블

| 변수명 | 값 | 설명 |
|--------|-----|------|
| state | 0 | 활성 상태 |
| state | 4 | 비활성 상태 (추정) |
| role | ? | 각 숫자별 역할 정의 필요 |

## 플레이어 관련 변수

### players 테이블

| 변수명 | 값 | 설명 |
|--------|-----|------|
| status | 0 | 활성 상태 (추정) |
| status | 1 | 제한된 상태 (추정) |
| status | 8 | 특별 관리 상태 (추정) |
| adjustType | ? | 조정 유형 정의 필요 |
| flowFeatures | ? | 자금 흐름 특성 정의 필요 |

## 마케팅 관련 변수

### promotions 테이블
 
이벤트와 프로모션은 동일한 개념으로 사용됩니다. 시스템 내에서 모든 마케팅 이벤트는 프로모션으로 처리됩니다.

| 변수명 | 값 | 설명 |
|--------|-----|------|
| event | - | 프로모션과 동일한 의미로 사용됨 |
| promotion | - | 마케팅 이벤트나 특별 혜택을 의미함 |
| reward | decimal | 프로모션에 대한 보상 금액 |
| rewardType | 1 | 보상 유형 (정확한 의미 확인 필요) |

### promotion_players 테이블

이 테이블은 각 프로모션(이벤트)에 참여하는 플레이어 정보를 관리합니다.

| 변수명 | 값 | 설명 |
|--------|-----|------|
| promotion | char(32) | 프로모션 ID (외래 키) |
| player | int | 플레이어 ID (외래 키) |
| reward | decimal(8,2) | 플레이어에게 지급된 이벤트 금액 |
| status | tinyint | 프로모션 참여 상태 (0: 진행 중, 1: 완료 등) |
| appliedAt | timestamp | 이벤트 금액 지급 시간 |

## 분석 결과 참고 사항

### 이벤트 지급 금액 분석 (2025-05-17)

- 이벤트 지급 금액은 `promotion_players` 테이블의 `reward` 필드에서 확인할 수 있습니다.
- 이벤트 지급 금액은 소수점 이하 없이 정수로 표시합니다.

#### 질의 1: 이벤트 지급 분석 (입금 없이 배팅한 프로모션 수혜자)
- 분석 대상 6명 사용자의 총 이벤트 지급 금액은 4,664원입니다.
- 최대 단일 이벤트 지급 금액은 555원입니다.

#### 질의 2: 장기 미접속 & 이벤트 후 입금 사용자 분석
- 총 이벤트 지급 횟수는 428회입니다.
- 가장 많은 이벤트를 받은 사용자는 "ug3802"로 8회입니다.
- 가장 큰 단일 이벤트 지급 금액은 "hh3803"에게 지급된 3,330원입니다.
- 이벤트 후 가장 많은 입금액을 기록한 사용자는 "jiaw189"로 764,000원입니다.
- 총 128명의 사용자가 분석 조건을 충족합니다.

---

**참고사항**:
- 이 문서는 데이터베이스 구조 분석을 기반으로 생성되었습니다.
- 변수의 실제 의미는 추정된 것이며, 시스템 사용 과정에서 확인 및 수정이 필요할 수 있습니다.
- 새로운 변수 정보가 확인되면 이 문서에 추가해 주세요.